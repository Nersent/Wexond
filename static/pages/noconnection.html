<!DOCTYPE html>
<html>
<head>
	<style>

	</style>
</head>
<body>
<h1>Could not connect and load Flowr..</h1>
<div>This could be due to </div>
<div>-a missing internet connection</div>
<div>-the server could not be reached</div>
<div>-the url is possibly erroneous</div>

<div>This will reload in a few seconds...</div>
<script>
	const ipc = nodeRequire('electron').ipcRenderer
	const hiddenMenuCode = 'configtaktik'
	
	let codeClearingTimeout = undefined
	let hiddenMenuCodeIndex = 0

	function handleHiddenMenuCode(event){
		const char = event.key
		if (codeClearingTimeout) {
			clearTimeout(codeClearingTimeout)
		}

		codeClearingTimeout = setTimeout(function() {
			hiddenMenuCodeIndex = 0
		}, 3500)

		if (hiddenMenuCode[hiddenMenuCodeIndex++] != char) {
			return hiddenMenuCodeIndex = 0
		}

		if (hiddenMenuCodeIndex === hiddenMenuCode.length) {
			ipc.send("openConfigMode")
		}
	}

	document.addEventListener("keydown", handleHiddenMenuCode)
</script>
</body>
</html>